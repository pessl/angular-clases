<div class="card">
  <div class="card-header custom-card-header">
    Generar Reporte de Participación de Reuniones Previas
  </div>

  <div class="card-body">
    <div class="row mt-3">
      <div class="col-md-12"><h2><strong>REPORTE DE PARTICIPACIÓN SOCIOAMBIENTAL</strong></h2></div>
    </div>

    <div class="row mt-3 label">
      <div class="col-md-2">
        <label for="in_nroDocumento"><strong>Nº DOCUMENTO</strong></label>
      </div>
      <div class="col-md-3">
        <input type="text" name="in_nroDocumento" class="form-control">
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="in_actividad" class="form-label"><strong>ACTIVIDAD</strong></label>
        <input name="in_actividad" class="form-control">
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="in_lugarFecha" class="form-label"><strong>LUGAR Y FECHA</strong></label>
        <input name="in_lugarFecha" class="form-control">
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="in_asunto" class="form-label"><strong>ASUNTO</strong></label>
        <input name="in_asunto" class="form-control">
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12"><strong>REPRESENTANTE DE LA OEFA</strong></div>
    </div>

    <div class="row mt-3 label">
      <div class="col-md-2">
        <label for="in_nombre" class="form-label">Nombre</label>
      </div>

      <div class="col-md-4">
        <input type="text" name="in_nombre" class="form-control">
      </div>
      <div class="col-md-2">
        <label for="in_cargo" class="form-label">Cargo</label>
      </div>
      <div class="col-md-4">
        <input type="text" name="in_cargo" class="form-control">
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-md-12">
        <strong>1. RELACIÓN DE ACTORES QUE PARTICIPARON:</strong>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12" style="display: flex; justify-content: end;">
        <button class="btn btn-primary" (click)="openDialogAc()">Nuevo Actor</button>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <th>Nº</th>
              <th>Nombre y Apellidos</th>
              <th>Cargo</th>
              <th>Correo/Telefóno</th>
              <th>Comunidad</th>
              <th>Distrito</th>
              <th>Provincia</th>
              <th>Departamento</th>
              <th><i class="fa-solid fa-trash"></i></th>
            </thead>
            <tbody>

              <ng-container *ngIf="listaDeActores.length == 0 then noHayActores else mostrarTablaDeActores">
              </ng-container>

              <ng-template #noHayActores>
                <td colspan="9">Aún no se han registrado ACTORES</td>
              </ng-template>

              <ng-template #mostrarTablaDeActores>
                <ng-container *ngFor="let actor of listaDeActores">
                  <tr>
                    <td>1</td>
                    <td>{{ actor.nombres }} {{ actor.apellidos}}</td>
                    <td>{{ actor.cargo }}</td>
                    <td>{{ actor.correo }} / {{ actor.telefono }}</td>
                    <td>{{ actor.comunidad }}</td>
                    <td>{{ actor.departamento }}</td>
                    <td>{{ actor.provincia }}</td>
                    <td>{{ actor.distrito }}</td>
                    <td>
                      <button class="btn btn-danger" style="color:white" (click)="removerActor(actor)">
                        <i class="fa-solid fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                </ng-container>
              </ng-template>

            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12"><strong>2. ESCENARIO SOCIAL</strong></div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="ta_contGen" class="form-label">a. Contexto General</label>
        <textarea class="form-control" rows="6"></textarea>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="ta_contEsp" class="form-label">b. Contexto Específico (Problemas Ambientales)</label>
        <textarea class="form-control" rows="6"></textarea>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="ta_percPobl" class="form-label">c. Percepción de la población</label>
        <textarea class="form-control" rows="6"></textarea>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12"><strong>3. DESCRIPCIÓN DE ACTIVIDADES</strong></div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="ta_accPrev" class="form-label">Acciones Previas</label>
        <textarea class="form-control" rows="6"></textarea>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="ta_accCamp" class="form-label">Acciones de Campo</label>
        <textarea class="form-control" rows="6"></textarea>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="ta_compromisos" class="form-label"><strong>4. COMPROMISOS ASUMIDOS POR LA OEFA</strong></label>
        <textarea class="form-control" rows="6"></textarea>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="ta_conclusiones" class="form-label"><strong>5. CONCLUSIONES</strong></label>
        <textarea class="form-control" rows="6"></textarea>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <label for="ta_observaciones" class="form-label"><strong>6. OBSERVACIONES</strong></label>
        <textarea class="form-control" rows="6"></textarea>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12">
        <p>Relación de documentos adjuntos al reporte:</p>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-4" style="display: flex; justify-content: end;">
        <button class="btn btn-primary">Documento</button>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-4">
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <th>Nombre del documento</th>
              <th>Archivo</th>
            </thead>
            <tbody>
              <td>Nombre</td>
              <td><mat-icon>trash</mat-icon></td>
            </tbody>
          </table>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-12">
          <p><strong>GALERÍA DE FOTOS</strong></p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12" style="display: flex; justify-content: end;">
          <button class="btn btn-primary"><span>Foto</span><mat-icon>add</mat-icon></button>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-md-12">
          <div class="table-responsive">
            <table class="table table-striped table-hover">
              <thead>
                <th>Fecha</th>
                <th>Hora</th>
                <th>Comunidad</th>
                <th>Departamento</th>
                <th>Provincia</th>
                <th>Distrito</th>
                <th>Acción</th>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>1</td>
                  <td>1</td>
                  <td>1</td>
                  <td>1</td>
                  <td>1</td>
                  <td>
                      <mat-icon>visibility</mat-icon>
                      <mat-icon>edit</mat-icon>
                      <mat-icon>trash</mat-icon>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      <div class="col-md-6" style="text-align: center;">
        <div class="row mt-3">
          <div class="col-md-12">
            <label class="form-label"><strong>¿Se acompaña a la supervisión?</strong></label>
          </div>
          <div class="mt-3">
            <input name="r_supervision" type="radio" class="ms-5"><label class="form-label">Si</label>
            <input name="r_supervision" type="radio" class="ms-5"><label class="form-label">No</label>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col-md-6" style="text-align: end;">
        <button class="btn btn-primary me-3">Generar Documento</button>
      </div>
      <div class="col-md-6" style="text-align: start;">
        <button class="btn btn-primary me-3">Adjuntar Documento</button>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col-md-12" style="display: flex; justify-content: end;">
        <button class="btn btn-primary me-3">Cancelar</button>
        <button class="btn btn-primary me-3">Guardar</button>
        <button class="btn btn-primary" (click)="generarReporte()">Siguiente</button>
      </div>
    </div>

  </div>

</div>
